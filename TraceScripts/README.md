# Instructions to capture trace logs for Azure PlayFab Lobby and Matchmaking (Multiplayer) SDK

Please follow the instructions below to capture trace logs generated by PlayFab Lobby and Matchmaking (Multiplayer) SDK integrated in your app. Once logs are collected, zip up the ETL file(s) (they compress very well) and send to us via customer support channel along with a description of the problem.

## PC (Win32 or GDK):
- Download the [`Trace-PlayFabMultiplayer.ps1` script](./Trace-PlayFabMultiplayer.ps1) from this repo
- Open an administrator command prompt or powershell session
    - the script is unsigned, so unless your powershell is setup to with an "Unrestricted" execution policy, you will have to pass that along as well.
- Run the `Trace-PlayFabMultiplayer.ps1` script. The script requires one parameter which is a label to describe the trace attempt, for example "try1", e.g.:
```
powershell -ExecutionPolicy Unrestricted .\Trace-PlayFabMultiplayer.ps1 try1
```
- Run your game and get into the state to reproduce the issue
- Hit enter in the command prompt to stop the trace. It will tell you the name of the generated `.etl` file which contains the trace.

## Xbox (GDK):
> [!NOTE]
> Replace "&lt;xboxip&gt;" with your Xbox console's IP address in the commands below:
- Open up a GDK developer prompt on your PC
- For each console involved in the issue, run the following command to start log collection:
```
xbtrace /x:<xboxip> start advancedmp
```
- Run your repro scenario which demonstrates the issue in PlayFab Lobby and Matchmaking (Multiplayer)
- For each console involved in the repro, run this command to finish log collection
```
xbtrace /x:<xboxip> stop
```
